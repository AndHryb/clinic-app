<<<<<<< HEAD
#Чтобы запустить проект нужно иметь установленный клиент msql и redis и настроить конфигурацию подключения в .env файле
=======
#Чтобы запустить проект нужно иметь слиент msql и redis и настроить конфигурацию подключения в .env файле
>>>>>>> 50e51ac762f88f831be2e14d53cacd799cdf29b7
1. Открыть консоль и прописать команды 
````
    git clone AndHryb/clinic-app
````
2. Установить  все зависимости из package.json командой 
```
    npm install 
```
3. Прописать в консоли команду 
```
    npm run seed //чтобы  добавить тестовых докторов в  базу

    npm start 
```
3. Открыть в браузере  http://localhost:3000/
4. На главной странице список ссылок для работы с приложением;
___
#Как пользоваться?

1. Зарегестрироваться как пользователь. Перейти по ссылке registration и ввести данные;
2. Залогиниться как доктор например :
    email: asd@asd ;
    passwors: 9876 ;
    (логин доктора и пациента осуществляеться с одной страницы)
    список всех докторов можно посмотреть перейдя в 
    ```
        cd helpers/dbSeed.js
    ```

    пароль для всех один : 9876 !!!

3. В личном кабинете пациента можно выбрать специальность и доктора, затем стать в очередь на прием. В нижней части страницы отображаются резолюции доктора  в виде таблицы(если они есть)  ;
4. В кабинете доктора можно нажать кнопку Next и получить первого в очереди пациента. Добавить резолюцию (выбрав  в списке под полем резолюция специальность)  и получить все резолюции по имени пациента, в том числе  другого пациента с таким же именем;
5. Удалить ресолюцию можно скопировав ResolutionID ивставить его в поле рядом с кнопкой _**delete**_ и нажать эту кнопку;


**Пояснения по структуре проекта:**
1. main.js -  входной файл,корневой роут.
2. client - папка с html css  и скриптами относящаяся к отображению страницы  и отправке запросов;
4. constants -( http статусы min ,max length,TTL)
5. helpers - схемы валидации ajv и другое;
6. api папка с основной бизнес логикой .
7. В папке api все разделено по сущностям в каждой папке tests тесты к контроллерам и сервисам этой сущности.
8. Файл config.js -конфигурация порта и типа хранилища;
9. Файл injector.js - Запускает нужный тип хранилижа в зависимости от конфигурации;
10. routes маршруты;
11. initialization-data-clients - фойлы для инициализации баз данных;


**Чтобы запустить тесты**
 Прописать команду   
```
 npm test
```   
 в консоли;

**Запустить docker compose:** 
Построить образ,если  не актуальный
````
    docker build -t anhryb/clinic-app:latest -f docker/Dockerfile .
````
 
Убедиться что порт 3000 не занят, перейти в папку docker и выполнить команды
````
    cd docker
    docker compose up -d
````

После использования:

````
    docker compose down
````
Почистить докер :
````
    docker rmi anhryb/clinic-app   
````


        
